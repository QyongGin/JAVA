# 프로세스와 스레드
### 프로세스 process
- 현재 실행 중인 하나의 프로그램(애플리케이션)
- 운영체제 os로부터 실행에 필요한 메모리를 할당받아 애플리케이션의 코드를 실행
- 하나의 프로그램이 다중 프로세스 만들기도 함

### 멀티 태스킹 multi tasking
- 두 가지 이상 작업 동시 처리하는 것 

### 멀티 프로세스
- 독립적으로 프로그램 실행 후 여러 작업 처리 (여러 프로그램 실행)

### 멀티 스레드
- 스레드 : 한 가지 작업 실행 위해 순차적 실행할 코드 (함수)(하나의 프로그램 여러 작업 : 카카오톡)
- 한 개의 프로그램을 실행하고 내부적으로 여러 작업 처리
- 메신저의 경우 파일 전송 스레드 예외 발생 시 메신저 프로세스 종료됨 -> 채팅 스레드도 같이 종료
- 멀티스레드에서 예외 처리에 만전 필요
- 활용
  - 대용량 데이터 처리 시간 줄이기 위해 데이터 분할 병렬 처리 시 (많은 데이터 빠르게 처리, 자원 낭비 없이)
  - UI 가진 애플리케이션에서 네트워크 통신 시
  - 다수 클리언트 요청 처라 서버 개발 시
 
### 메인 스레드
- 모든 자바 프로그램은 메인 스레드가 main() 메소드 실행하며 시작
- main() 메소드 첫 코드부터 아래로 순차적 진행

### 


### 작업 스레드 생성 방법
- Thread 하위 클래스로부터 생성
  - Thread 클래스 상속 후 reun 메소드 재정의 해 스레드가 실행할 코드 작성
 
### 동시성과 병렬성
- 동시성 Concurrency
  - 멀티 작업 위해 하나의 코어에서 멀티 스레드 번갈아 가며 실행하는 성질
- 병렬성 Parallelism
  - 멀티 작업을 위해 멀티 코어에서 개별 스레드를 동시에 실행하는 성질
  - 필요하면 병렬성 안에서 동시성이 일어난다.

### 스레드 스케줄링
- 코어 한 개 기준
- 스레드 여러 개 중 하나 선택이 스레드 스케줄링

## 자바의 스케드 스케줄링

### 우선 순위 방식
- 우선 순위가 높은 스레드가 실행 상태를 더 많이 가지도록 스케줄링
- 1~10까지 값을 가지며 기본은 5

### 순환 할당 바식
- 시가 할당량Time Slice 정해서 하나의 스레드를 정해진 시간만큼 실행

### 멀티 스레드 문제점
- 공유 객체 사용 시 주의점
  - 멀티 스레드가 하나의 객체를 공유해 생기는 오류
  - 1 스레드가 100을 저장하고 쉬는 동안 2 스레드가 들어와서 메모리에 50 저장.
  - 그 후 1스레드 휴식 끝, 출력 -> 50. 자신의 값 보존이 안됨.

### 문제점 해결 방법 : 동기화 메소드 및 동기화 블록 synchronized
- 스레드가 사용 중인 객체를 다른 스레드가 변경 못하게 스레드 작업이 끝나기 전까지 객체에 잠금 장치 적용
- 멀티 스레드에서 공유 객체를 쓴다면 무조건 synchronized 사용.


### 스레드의 일반 상태
- 스레드 객체 생성,

## 상태 제어
- 실행 중인 스레드의 상태를 변경하는 것
### 주어진 시간 동안 일시 정지 sleep()
- 얼마나 일시 정지할 지 밀리 세컨트ms (1/1000) 단위로 지정
- 주어진 시간 지나면 자동으로 실행 대기 상태로 전환

### 다른 스레드에게 실행 양보 yield()
- 실행 상태에서 다른 스레드에게 실행을 양보하고 실행 대기 상태로 전환

### 다른 스레드의 종료를 기다림 join()
- 다른 스레드 종료까지 기다렸다 실행해야 하는 경우
- 메소드 호출 스레드 일시 정지 상태
- 메소드 적용된 스레드 종료 시 다시 실행 대기 상태 전환
- 계산 작업 스레드 모든 계산 작업 끝날 때 결과 값을 받아 이용할 경우 주로 사용

### 스레드 간 협업 - wait(), notify(), notifyAll()
- wait() 동기화 블록 내 스레드 일시정지 상태로 만듦
- notify() : wait() 메소드로 일시정지된
- 두 개의 스레드가 교대로 번갈아 가며 실행해야 할 경우 주로 사용
- 
